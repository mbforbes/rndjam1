% preamble
\newcommand{\matrix}[1]{\mathbf{#1}}
\newcommand{\vector}[1]{\mathbf{#1}}
\newcommand{\X}{\matrix{X}}
\newcommand{\y}{\vector{y}}
\newcommand{\w}{\vector{w}}
\newcommand{\r}{\vector{r}}
\begin{align*}
w_j^{(t+1)} &= \frac{(\X^j)^T (\y - \X^{-j} \w_{-j} )}{\|\X^j\|_2^2} \\
&= \frac{(\X^j)^T (\r + \X^{j} w_{j}^{(t)} )}{\|\X^j\|_2^2} \\
&= \frac{(\X^j)^T \r + (\X^j)^T \X^{j} w_{j}^{(t)} }{\|\X^j\|_2^2} \\
&= \frac{(\X^j)^T \X^{j}}{\|\X^j\|_2^2}w_j^{(t)} + \frac{(\X^j)^T \r}{\|\X^j\|_2^2} \\
&= w_j^{(t)} + \frac{(\X^j)^T \r}{\|\X^j\|_2^2} \\
\end{align*}
