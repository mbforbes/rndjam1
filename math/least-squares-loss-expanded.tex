\newcommand{\matrix}[1]{\mathbf{#1}}
\newcommand{\vector}[1]{\mathbf{#1}}
% define vars upfront
\newcommand{\X}{\matrix{X}}
\newcommand{\y}{\vector{y}}
\newcommand{\w}{\vector{w}}
% actual loss
\begin{align*}
\mathcal{L}_{LS}(\X,\y,\w) &= \|\y - \X\w\|_2^2 \\
% expansion
&= (\y - \X\w)^T (\y - \X\w) \\
&= (\y^T - (\X\w)^T) (\y - \X\w) \\
&= \y^T\y - \y^T\X\w - (\X\w)^T\y + (\X\w)^T\X\w \\
&= \y^T\y - 2\y^T\X\w + \w^T\X^T\X\w
\end{align*}
