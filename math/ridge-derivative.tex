% preamble
\newcommand{\matrix}[1]{\mathbf{#1}}
\newcommand{\vector}[1]{\mathbf{#1}}
\newcommand{\X}{\matrix{X}}
\newcommand{\y}{\vector{y}}
\newcommand{\w}{\vector{w}}
% ridge derivative
\begin{align*}
\frac{\partial}{\partial \w} \mathcal{L}_{RR} (\X,\y,\w,\lambda) &= \frac{\partial}{\partial \w} \left[ \frac{1}{n} \|\y - \X\w\|_2^2 + \lambda \|\w\|_2^2 \right] \\
&=  \frac{1}{n} \frac{\partial}{\partial \w} \|\y - \X\w\|_2^2 + \lambda \frac{\partial}{\partial \w} \|\w\|_2^2 \\
&= \frac{1}{n} 2(\y - \X\w)^T (-\X) + \lambda 2 \w^T
\end{align*}
